# Telegram Digest Bot - –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∏–∑–¥–∞–Ω–∏–π

## üöÄ –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±–æ—Ç–æ–≤

**Telegram Digest Bot** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –±–æ—Ç–æ–≤ ‚Äî –∫–∞–∫ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∂—É—Ä–Ω–∞–ª—ã –æ—Ç –æ–¥–Ω–æ–≥–æ –∏–∑–¥–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –¥–æ–º–∞.

### üì∞ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è "–¶–∏—Ñ—Ä–æ–≤–æ–≥–æ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞"

**–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è:** –û–¥–∏–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–≥–ª–∞–≤–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä) —Å–æ–∑–¥–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –±–æ—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Ç–µ–º–∞—Ç–∏–∫–µ –∏ –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é.

**–ü—Ä–∏–º–µ—Ä—ã —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±–æ—Ç–æ–≤:**
- üá∫üá∏ **"–°–®–ê –î–∞–π–¥–∂–µ—Å—Ç"** - –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ –°–®–ê –¥–ª—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏
- üõ°Ô∏è **"–í–æ–µ–Ω–Ω—ã–µ –°–≤–æ–¥–∫–∏"** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–æ–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤  
- üí∞ **"–ö—Ä–∏–ø—Ç–æ –ù–æ–≤–æ—Å—Ç–∏"** - —Å–æ–±—ã—Ç–∏—è –≤ –º–∏—Ä–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
- üé≠ **"–ö—É–ª—å—Ç—É—Ä–Ω—ã–π –î–∞–π–¥–∂–µ—Å—Ç"** - —Å–æ–±—ã—Ç–∏—è –∏—Å–∫—É—Å—Å—Ç–≤–∞ –∏ –∫—É–ª—å—Ç—É—Ä—ã
- üèõÔ∏è **"–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –ü—É–ª—å—Å"** - –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

#### **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**
- **–ï–¥–∏–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ –±–æ—Ç–∞–º–∏
- **Shared –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** –æ–¥–∏–Ω userbot, –æ–¥–Ω–∞ AI —Å–∏—Å—Ç–µ–º–∞, –æ–¥–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–û–±—â–∏–π –ø—É–ª –∫–∞–Ω–∞–ª–æ–≤:** –∫–∞–Ω–∞–ª—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –±–æ—Ç–∞–º–∏
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π posts cache** —Å –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏

#### **–ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
- **–ò–∑–æ–ª—è—Ü–∏—è –∞—É–¥–∏—Ç–æ—Ä–∏–π:** –∫–∞–∂–¥—ã–π –±–æ—Ç –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –±–∞–∑—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞:** AI —Å–æ–∑–¥–∞–µ—Ç –¥–∞–π–¥–∂–µ—Å—Ç—ã –ø–æ–¥ —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞
- **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è:** —Ä–∞–∑–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã –∏ –º–æ–¥–µ–ª–∏ –æ–ø–ª–∞—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞
- **–û—Ç–¥–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:** –º–µ—Ç—Ä–∏–∫–∏ engagement, –∫–æ–Ω–≤–µ—Ä—Å–∏–∏, –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –ø–æ –±–æ—Ç–∞–º

#### **AI-driven –∫–æ–Ω—Ç–µ–Ω—Ç**
- **–£–º–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è:** AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π –ø–æ—Å—Ç –∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç —Ç–æ—á–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- **–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** AI –ø–æ–Ω–∏–º–∞–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞ –∏ –æ—Ç–±–∏—Ä–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- **–ì–∏–±–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã:** –∫–∞–∂–¥—ã–π –±–æ—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ AI –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å:** –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö

#### **Conflict Management —Å–∏—Å—Ç–µ–º–∞**
```
Priority System (0=highest, 5=lowest):
‚îú‚îÄ‚îÄ 0: EMERGENCY_NEWS     - —Å—Ä–æ—á–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ (–æ—Ç–º–µ–Ω—è—é—Ç –≤—Å–µ)
‚îú‚îÄ‚îÄ 1: ADMIN_MANUAL       - —Ä—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞  
‚îú‚îÄ‚îÄ 2: USER_PREMIUM       - –ø–ª–∞—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ 3: PROMPT_REBUILD     - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ AI –ø—Ä–æ–º–ø—Ç–æ–≤
‚îú‚îÄ‚îÄ 4: SCHEDULED          - –ø–ª–∞–Ω–æ–≤—ã–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ 5: BACKGROUND         - —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
```

### üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–æ–ª–∏

#### **üßë‚Äçüíº –ì–ª–∞–≤–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)**
- **–°–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–æ–≤:** –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º–∞—Ç–∏–∫–∏, –∫–∞–Ω–∞–ª–æ–≤, –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AI –ø—Ä–æ–º–ø—Ç–∞–º–∏:** –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å—Ç–∏–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –±–æ—Ç–∞–º:** —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ performance, engagement, –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã:** –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ posts cache, –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∑–∞–¥–∞—á, AI –æ–±—Ä–∞–±–æ—Ç–∫–∏

#### **üì± –ß–∏—Ç–∞—Ç–µ–ª–∏ –ø—É–±–ª–∏—á–Ω—ã—Ö –±–æ—Ç–æ–≤**
- **–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã:** –≤—ã–±–æ—Ä –±–æ—Ç–æ–≤ –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –±–æ—Ç–∞:** —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
- **–ü—Ä–µ–º–∏—É–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:** —á–∞—Å—Ç—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:** –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è AI

### üí∞ –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è

#### **–ú–æ–¥–µ–ª—å freemium –ø–æ –±–æ—Ç–∞–º:**
- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ:** –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã, –±–∞–∑–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **–ü—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∞:** —á–∞—Å—Ç—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –∫–∞–Ω–∞–ª—ã, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **–ú–∏–∫—Ä–æ—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:** –¥–∞–π–¥–∂–µ—Å—Ç—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É, —Å—Ä–æ—á–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
- **Enterprise:** API –¥–æ—Å—Ç—É–ø, –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–∞–Ω–∞–ª—ã

#### **–ë–∏–ª–ª–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–∞:**
- **–ï–¥–∏–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** —Å –±–∞–ª–∞–Ω—Å–æ–º –¥–ª—è –≤—Å–µ—Ö –±–æ—Ç–æ–≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **–†–∞–∑–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã –ø–æ –±–æ—Ç–∞–º:** "–°–®–ê –î–∞–π–¥–∂–µ—Å—Ç" $5/–º–µ—Å—è—Ü, "–ö—Ä–∏–ø—Ç–æ" $10/–º–µ—Å—è—Ü
- **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è** —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ –±–æ—Ç–∞–º –∏ —É—Å–ª—É–≥–∞–º
- **–õ–∏–º–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** —Å graceful degradation –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û–±—â–∞—è —Å—Ö–µ–º–∞ –º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    ADMIN PANEL                         ‚îÇ
‚îÇ  –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞–º–∏ ‚îÇ AI Settings ‚îÇ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 BACKEND API                             ‚îÇ
‚îÇ  Public Bots ‚îÇ Users ‚îÇ Subscriptions ‚îÇ Billing          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ              ‚îÇ              ‚îÇ
   ‚ñº              ‚ñº              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ USERBOT ‚îÇ  ‚îÇAI SERVICE‚îÇ  ‚îÇ PUBLIC BOTS‚îÇ
‚îÇ –°–±–æ—Ä    ‚îÇ  ‚îÇ Python   ‚îÇ  ‚îÇ Bot #1, #2 ‚îÇ
‚îÇ –∫–æ–Ω—Ç–µ–Ω—Ç–∞‚îÇ  ‚îÇ –º–æ–¥—É–ª—å   ‚îÇ  ‚îÇ Bot #3...  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ              ‚îÇ              ‚îÇ
     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚ñº
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ    POSTS CACHE      ‚îÇ
         ‚îÇ    PostgreSQL       ‚îÇ
         ‚îÇ   —Å –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Flow Architecture
```
1. –°–ë–û–† –î–ê–ù–ù–´–•:
   ‚îú‚îÄ‚îÄ Scheduled crawling –ø–æ –∫–∞–Ω–∞–ª–∞–º (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç)
   ‚îú‚îÄ‚îÄ Manual triggers –∏–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
   ‚îú‚îÄ‚îÄ Real-time Telegram Updates API
   ‚îî‚îÄ‚îÄ On-demand requests –æ—Ç –ø—É–±–ª–∏—á–Ω—ã—Ö –±–æ—Ç–æ–≤

2. –û–ë–†–ê–ë–û–¢–ö–ê:
   ‚îú‚îÄ‚îÄ Centralized posts cache —Å retention management  
   ‚îú‚îÄ‚îÄ AI analysis —á–µ—Ä–µ–∑ Python –º–æ–¥—É–ª—å (–Ω–µ N8N)
   ‚îú‚îÄ‚îÄ Conflict management —Å priority system
   ‚îî‚îÄ‚îÄ Batch processing –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤

3. –î–û–°–¢–ê–í–ö–ê:
   ‚îú‚îÄ‚îÄ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã –ø–æ –±–æ—Ç–∞–º
   ‚îú‚îÄ‚îÄ Push notifications –¥–ª—è –ø—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   ‚îú‚îÄ‚îÄ API endpoints –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
   ‚îî‚îÄ‚îÄ Web preview –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
```

## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

**‚úÖ STAGE 5 –ó–ê–í–ï–†–®–ï–ù** (–¥–µ–∫–∞–±—Ä—å 2025) - **–ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç**
- **‚úÖ –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–∞–∑–∞:** Admin Panel, Backend API, AI –æ–±—Ä–∞–±–æ—Ç–∫–∞, –ø—É–±–ª–∏—á–Ω—ã–π –±–æ—Ç
- **‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:** –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ v7.3, N8N batch processing –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- **‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —ç–≤–æ–ª—é—Ü–∏–∏:** –æ—Ç–ª–∏—á–Ω–∞—è –æ—Å–Ω–æ–≤–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç–∏

**üöÄ STAGE 6 –í –†–ê–ó–†–ê–ë–û–¢–ö–ï** - **Multi-tenant Architecture Evolution**

### –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ vs –ù–æ–≤–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

#### ‚úÖ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ü–û–õ–ù–û–ì–û –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:**
1. **Backend API (FastAPI)** - –æ—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω
   - **–ì–æ—Ç–æ–≤–æ:** CRUD –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤/–∫–∞—Ç–µ–≥–æ—Ä–∏–π, –≤–∞–ª–∏–¥–∞—Ü–∏—è, REST endpoints
   - **–î–æ–±–∞–≤–∏—Ç—å:** –º–æ–¥–µ–ª–∏ PublicBot, BotUser, UserSubscription, Billing

2. **Admin Panel (React + MUI)** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
   - **–ì–æ—Ç–æ–≤–æ:** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è
   - **–î–æ–±–∞–≤–∏—Ç—å:** —Å–µ–∫—Ü–∏–∏ Public Bots, LLM Settings, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å—Ç–æ–≤

3. **Database —Å—Ö–µ–º–∞** - —Ö–æ—Ä–æ—à–∞—è –æ—Å–Ω–æ–≤–∞ PostgreSQL
   - **–ì–æ—Ç–æ–≤–æ:** channels, categories, digests, settings
   - **–î–æ–±–∞–≤–∏—Ç—å:** –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, posts_cache, –±–∏–ª–ª–∏–Ω–≥

#### üîÑ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ê–î–ê–ü–¢–ê–¶–ò–ò:**
4. **Userbot** - –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–±–æ—Ä–∞
   - **–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å:** centralized posts_cache, –º—É–ª—å—Ç–∏–∫–∞–Ω–∞–ª—å–Ω—ã–π —Å–±–æ—Ä

5. **AI –ª–æ–≥–∏–∫–∞** - –∏–∑ N8N workflows –≤ Python –º–æ–¥—É–ª—å
   - **–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏:** Dynamic prompts, Binary Relevance, structured instructions

#### ‚ùå **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ó–ê–ú–ï–ù–´:**
6. **N8N workflows** ‚Üí **Python AI Service** 
   - **–ü—Ä–∏—á–∏–Ω–∞:** –ø—Ä–æ–±–ª–µ–º—ã —Å batch processing, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

7. **Telegram-–±–æ—Ç** ‚Üí **–ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
   - **–ü—Ä–∏—á–∏–Ω–∞:** –µ–¥–∏–Ω—ã–π –±–æ—Ç ‚Üí –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–æ—Ç—ã

## üìã –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Stage 6

### **–≠—Ç–∞–ø 1: Backend —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ** (1 –Ω–µ–¥–µ–ª—è)
- –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏: PublicBot, BotUser, UserSubscription  
- Posts cache table —Å retention management
- LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã settings (OpenAI, Anthropic, –ª–æ–∫–∞–ª—å–Ω—ã–µ)
- –ë–∏–ª–ª–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–∞ (–±–∞–∑–æ–≤–∞—è)

### **–≠—Ç–∞–ø 2: Admin Panel + –¥–µ—Ç–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (1 –Ω–µ–¥–µ–ª—è)
```
üìä –ù–æ–≤—ã–µ —Å–µ–∫—Ü–∏–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:
‚îú‚îÄ‚îÄ üìà Posts Analytics (posts viewer, AI analysis)
‚îú‚îÄ‚îÄ ü§ñ Public Bots (—Å–æ–∑–¥–∞–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)  
‚îú‚îÄ‚îÄ ‚öôÔ∏è LLM Settings (–ø—Ä–æ–≤–∞–π–¥–µ—Ä, –º–æ–¥–µ–ª—å, –ª–∏–º–∏—Ç—ã)
‚îú‚îÄ‚îÄ üìã Digest Viewer (–∏—Å—Ö–æ–¥–Ω—ã–µ ‚Üí AI ‚Üí —Ñ–∏–Ω–∞–ª—å–Ω—ã–π)
‚îî‚îÄ‚îÄ üéõÔ∏è Collection Triggers (manual, scheduled)
```

### **–≠—Ç–∞–ø 3: Userbot —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –∫–µ—à–µ–º** (3-4 –¥–Ω—è)
- Centralized posts_cache —Å –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
- Manual triggers –∏–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤

### **–≠—Ç–∞–ø 4: AI Service –Ω–∞ Python** (1 –Ω–µ–¥–µ–ª—è)  
- –ó–∞–º–µ–Ω–∞ N8N workflows –Ω–∞ Python –º–æ–¥—É–ª—å
- Batch processing —Å conflict management
- –ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

### **–≠—Ç–∞–ø 5: AI Testing & Tuning** (3-4 –¥–Ω—è)
- A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö LLM –º–æ–¥–µ–ª–µ–π –Ω–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–µ–º–∞—Ç–∏–∫

### **–≠—Ç–∞–ø 6: –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–æ—Ç–æ–≤** (1 –Ω–µ–¥–µ–ª—è)
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ PublicBot —Å –∫–∞–Ω–∞–ª–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- Shared AI Service –¥–ª—è –≤—Å–µ—Ö –±–æ—Ç–æ–≤
- –ü–µ—Ä–≤—ã–π —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±–æ—Ç —Å –º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º

### **–≠—Ç–∞–ø 7: –í—Ç–æ—Ä–æ–π –±–æ—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** (3-4 –¥–Ω—è)
- –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –±–æ—Ç–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–ª—è—Ü–∏–∏ –∞—É–¥–∏—Ç–æ—Ä–∏–π  
- –í–∞–ª–∏–¥–∞—Ü–∏—è shared –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### **–≠—Ç–∞–ø 8: Polishing –ø—É–±–ª–∏—á–Ω—ã—Ö –±–æ—Ç–æ–≤** (3-4 –¥–Ω—è)
- UI/UX –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞
- –ö—Ä–∞—Å–∏–≤—ã–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã —Å –±—Ä–µ–Ω–¥–∏–Ω–≥–æ–º

### **–≠—Ç–∞–ø 9a: Conflict Management** (3-4 –¥–Ω—è)
- Priority —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∑–∞–¥–∞—á –æ–±—Ä–∞–±–æ—Ç–∫–∏
- Queue management —Å Redis/Celery

### **–≠—Ç–∞–ø 9b: Emergency News & Real-time** (3-4 –¥–Ω—è)
- –î–µ—Ç–µ–∫—Ü–∏—è —Å—Ä–æ—á–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
- Instant processing –∏ push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### **–≠—Ç–∞–ø 9c: User Demand Triggers** (3-4 –¥–Ω—è)  
- –ü–ª–∞—Ç–Ω—ã–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É
- On-demand –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–º–∏—É–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **–≠—Ç–∞–ø 10: –ú–µ—Ö–∞–Ω–∏–∫–∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏** (1 –Ω–µ–¥–µ–ª—è)
- –ë–∏–ª–ª–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–∞ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- –¢–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã –ø–æ –±–æ—Ç–∞–º
- Payment gateway –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### **–≠—Ç–∞–ø 11: Advanced Analytics** (3-4 –¥–Ω—è)
- Cross-bot performance analytics
- Revenue optimization
- User engagement metrics

## üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### **–°–æ—Ö—Ä–∞–Ω—è–µ–º (–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏):**
- **Backend:** FastAPI + SQLAlchemy + PostgreSQL
- **Frontend:** React + Material UI + TypeScript  
- **Database:** PostgreSQL —Å –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **Infrastructure:** Docker + Docker Compose

### **–ù–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- **AI Service:** Python asyncio + OpenAI/Anthropic SDK
- **Queue System:** Redis + Celery –¥–ª—è conflict management
- **Monitoring:** Prometheus + Grafana (–º–æ–¥—É–ª—å–Ω–æ)
- **Real-time:** Telegram Updates API –∏–ª–∏ WebSockets

### **–ó–∞–º–µ–Ω—è–µ–º:**
- **‚ùå N8N workflows** ‚Üí **‚úÖ Python AI Service**
  - –ü—Ä–∏—á–∏–Ω–∞: –ª—É—á—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å, debugging, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üóÑÔ∏è –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### **–ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**

```sql
-- –ü—É–±–ª–∏—á–Ω—ã–µ –±–æ—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
CREATE TABLE public_bots (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,           -- "–°–®–ê –î–∞–π–¥–∂–µ—Å—Ç"
    description TEXT,                      -- –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–º–∞—Ç–∏–∫–∏
    telegram_bot_token VARCHAR(500) NOT NULL,
    telegram_username VARCHAR(255),       -- @usa_digest_bot
    is_active BOOLEAN DEFAULT true,
    branding JSONB,                       -- –õ–æ–≥–æ—Ç–∏–ø, —Ü–≤–µ—Ç–∞, —Å—Ç–∏–ª—å
    ai_instructions TEXT,                 -- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è AI
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- –°–≤—è–∑–∏ –±–æ—Ç–æ–≤ —Å –∫–∞–Ω–∞–ª–∞–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
CREATE TABLE bot_channels (
    bot_id INTEGER REFERENCES public_bots(id),
    channel_id INTEGER REFERENCES channels(id),
    PRIMARY KEY (bot_id, channel_id)
);

CREATE TABLE bot_categories (  
    bot_id INTEGER REFERENCES public_bots(id),
    category_id INTEGER REFERENCES categories(id),
    priority INTEGER DEFAULT 0,           -- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –±–æ—Ç–∞
    PRIMARY KEY (bot_id, category_id)
);

-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—É–±–ª–∏—á–Ω—ã—Ö –±–æ—Ç–æ–≤
CREATE TABLE bot_users (
    id SERIAL PRIMARY KEY,
    bot_id INTEGER REFERENCES public_bots(id),
    telegram_id BIGINT NOT NULL,
    username VARCHAR(255),
    first_name VARCHAR(255),
    language VARCHAR(10) DEFAULT 'ru',
    timezone VARCHAR(50) DEFAULT 'Europe/Moscow',
    is_active BOOLEAN DEFAULT true,
    subscription_tier VARCHAR(50) DEFAULT 'free', -- free, premium, enterprise
    balance DECIMAL(10,2) DEFAULT 0.00,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(bot_id, telegram_id)
);

-- –ü–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–Ω—É—Ç—Ä–∏ –±–æ—Ç–∞
CREATE TABLE user_subscriptions (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES bot_users(id),
    category_id INTEGER REFERENCES categories(id),
    is_active BOOLEAN DEFAULT true,
    priority INTEGER DEFAULT 0,
    created_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(user_id, category_id)
);

-- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–µ—à –ø–æ—Å—Ç–æ–≤
CREATE TABLE posts_cache (
    id SERIAL PRIMARY KEY,
    channel_id INTEGER REFERENCES channels(id),
    telegram_message_id BIGINT,
    content TEXT,
    media_type VARCHAR(50),
    media_url TEXT,
    views INTEGER DEFAULT 0,
    posted_at TIMESTAMP,
    collected_at TIMESTAMP DEFAULT NOW(),
    ai_processed BOOLEAN DEFAULT false,
    ai_category VARCHAR(255),
    ai_summary TEXT,
    ai_metrics JSONB,                     -- importance, urgency, significance
    retention_until TIMESTAMP,           -- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
    INDEX(channel_id, posted_at),
    INDEX(ai_processed, collected_at),
    INDEX(retention_until)
) PARTITION BY RANGE (posted_at);       -- –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –¥–∞—Ç–µ

-- –ë–∏–ª–ª–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–∞
CREATE TABLE billing_transactions (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES bot_users(id),
    bot_id INTEGER REFERENCES public_bots(id),
    transaction_type VARCHAR(50),         -- subscription, on_demand, refund
    amount DECIMAL(10,2),
    currency VARCHAR(3) DEFAULT 'USD',
    status VARCHAR(50),                   -- pending, completed, failed
    payment_provider VARCHAR(100),
    provider_transaction_id VARCHAR(255),
    metadata JSONB,
    created_at TIMESTAMP DEFAULT NOW()
);
```

### **LLM Settings —Å–∏—Å—Ç–µ–º–∞:**
```sql
CREATE TABLE llm_providers (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,           -- "openai", "anthropic", "local"
    display_name VARCHAR(255),            -- "OpenAI GPT-4"
    api_endpoint VARCHAR(500),
    auth_type VARCHAR(50),                -- "bearer", "api_key", "none"
    models JSONB,                         -- –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
    rate_limits JSONB,                    -- –õ–∏–º–∏—Ç—ã API
    pricing JSONB,                        -- –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ —Ç–æ–∫–µ–Ω
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE llm_settings (
    id SERIAL PRIMARY KEY,
    bot_id INTEGER REFERENCES public_bots(id),
    provider_id INTEGER REFERENCES llm_providers(id),
    model_name VARCHAR(255),
    max_tokens INTEGER DEFAULT 4000,
    temperature DECIMAL(3,2) DEFAULT 0.3,
    custom_params JSONB,
    monthly_budget DECIMAL(10,2),        -- –õ–∏–º–∏—Ç –±—é–¥–∂–µ—Ç–∞
    is_active BOOLEAN DEFAULT true,
    UNIQUE(bot_id)                       -- –û–¥–∏–Ω LLM –Ω–∞ –±–æ—Ç–∞
);
```

## üîß –ú–æ–¥–µ—Ä–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### **Admin Panel –Ω–æ–≤—ã–µ —Å–µ–∫—Ü–∏–∏:**

#### **Public Bots Management:**
```jsx
// –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
<PublicBotsPage>
  <BotCreationDialog />        // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –±–æ—Ç–∞
  <BotChannelsManager />       // –ü—Ä–∏–≤—è–∑–∫–∞ –∫–∞–Ω–∞–ª–æ–≤ –∫ –±–æ—Ç—É  
  <BotCategoriesManager />     // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –±–æ—Ç–∞
  <BotAnalytics />            // –ú–µ—Ç—Ä–∏–∫–∏: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, engagement, revenue
  <BotAISettings />           // –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –∏ LLM –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
</PublicBotsPage>

<LLMSettingsPage>
  <ProviderManager />         // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ OpenAI, Anthropic, –ª–æ–∫–∞–ª—å–Ω—ã–µ
  <ModelSelector />           // –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –ø–æ –±–æ—Ç–∞–º
  <BudgetManager />           // –õ–∏–º–∏—Ç—ã —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ AI –ø–æ –±–æ—Ç–∞–º  
  <PerformanceAnalytics />    // A/B —Ç–µ—Å—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
</LLMSettingsPage>

<PostsMonitoringPage>
  <PostsViewer />             // –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –ø–æ—Å—Ç–æ–≤ —Å AI –∞–Ω–∞–ª–∏–∑–æ–º
  <DigestPreview />           // –ü—Ä–µ–≤—å—é: –∏—Å—Ö–æ–¥–Ω—ã–µ –ø–æ—Å—Ç—ã ‚Üí AI ‚Üí —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –¥–∞–π–¥–∂–µ—Å—Ç
  <ConflictManager />         // –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –∑–∞–¥–∞—á
  <CacheManager />            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ retention –∏ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
</PostsMonitoringPage>
```

### **Python AI Service –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**

```python
# ai_service/main.py
class AIProcessingService:
    async def process_posts_batch(self, posts: List[Post], bot_config: BotConfig):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–∞ –ø–æ—Å—Ç–æ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–æ—Ç–∞"""
        
        # 1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –ø–æ–¥ —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –±–æ—Ç–∞
        prompt = self.build_bot_specific_prompt(bot_config)
        
        # 2. –í—ã–∑–æ–≤ LLM —Å —É—á–µ—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞
        llm_response = await self.call_llm(
            provider=bot_config.llm_provider,
            model=bot_config.llm_model,
            prompt=prompt,
            posts=posts
        )
        
        # 3. –ü–∞—Ä—Å–∏–Ω–≥ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
        processed_posts = self.parse_llm_response(llm_response)
        
        # 4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ posts_cache —Å AI –∞–Ω–∞–ª–∏–∑–æ–º
        await self.save_ai_analysis(processed_posts)
        
        return processed_posts

# ai_service/conflict_manager.py  
class ConflictManager:
    async def handle_processing_request(self, request: ProcessingRequest):
        """–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏ –∑–∞–¥–∞—á –æ–±—Ä–∞–±–æ—Ç–∫–∏"""
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ priority –∏ –æ—Ç–º–µ–Ω–∞ –º–µ–Ω–µ–µ –≤–∞–∂–Ω—ã—Ö –∑–∞–¥–∞—á
        await self.cancel_lower_priority_tasks(request.priority)
        
        # Resource semaphore –¥–ª—è –ª–∏–º–∏—Ç–æ–≤ API
        async with self.ai_api_semaphore:
            return await self.process_request(request)
```

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

**‚úÖ –ü–ª–∞–Ω –æ–¥–æ–±—Ä–µ–Ω**  
**‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω–∞**  
**‚úÖ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤—ã–±—Ä–∞–Ω—ã**  
**‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —è—Å–Ω–∞**

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ROADMAP.md —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ Stage 6